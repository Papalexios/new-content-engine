<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WP Content Optimizer Pro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-color: #0f172a; /* Slate 900 */
            --surface-color: #1e293b; /* Slate 800 */
            --surface-color-light: #334155; /* Slate 700 */
            --primary-color: #38bdf8; /* Sky 400 */
            --primary-hover-color: #7dd3fc; /* Sky 300 */
            --text-color: #e2e8f0; /* Slate 200 */
            --text-light-color: #94a3b8; /* Slate 400 */
            --border-color: #334155; /* Slate 700 */
            --success-color: #4ade80; /* Green 400 */
            --error-color: #f87171; /* Red 400 */
            --warning-color: #facc15; /* Yellow 400 */
            --font-sans: 'Inter', sans-serif;
            --border-radius: 0.5rem;
        }

        /* 1. Global Reset & Typography */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html {
            font-size: 16px;
        }
        body {
            font-family: var(--font-sans);
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        #root {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        h1, h2, h3, h4, h5 {
            color: var(--text-color);
            line-height: 1.2;
            margin-bottom: 0.75rem;
        }
        h1 { font-size: 2.25rem; }
        h2 { font-size: 1.75rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; }
        h3 { font-size: 1.25rem; }
        p { margin-bottom: 1rem; color: var(--text-light-color); max-width: 75ch; }
        a { color: var(--primary-color); text-decoration: none; }
        a:hover { text-decoration: underline; color: var(--primary-hover-color); }
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        .full-width {
            width: 100%;
        }

        /* 2. Header & Footer */
        header {
            background-color: var(--surface-color);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border-color);
            text-align: center;
        }
        .app-footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: auto;
            color: var(--text-light-color);
            font-size: 0.875rem;
            border-top: 1px solid var(--border-color);
        }

        /* 3. Forms & Inputs */
        .form-group {
            margin-bottom: 1.25rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        input[type="text"], input[type="search"], input[type="password"], textarea, select {
            width: 100%;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 0.75rem;
            color: var(--text-color);
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.3);
        }
        input:disabled {
            background-color: var(--surface-color-light);
            cursor: not-allowed;
        }
        .help-text {
            font-size: 0.875rem;
            color: var(--text-light-color);
            margin-top: 0.25rem;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border: 1px solid transparent;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
            background-color: var(--primary-color);
            color: var(--background-color);
        }
        .btn:hover {
            background-color: var(--primary-hover-color);
        }
        .btn:disabled {
            background-color: var(--surface-color-light);
            color: var(--text-light-color);
            cursor: not-allowed;
        }
        .btn-secondary {
            background-color: var(--surface-color-light);
            color: var(--text-color);
            border-color: var(--border-color);
        }
        .btn-secondary:hover {
            background-color: var(--border-color);
        }
        .btn-danger {
            background-color: var(--error-color);
            color: #fff;
        }
        .btn-danger:hover {
            background-color: #ef4444;
        }
        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }
        .result {
            padding: 1rem;
            margin-top: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid;
            font-weight: 500;
        }
        .result.success {
            background-color: rgba(74, 222, 128, 0.1);
            border-color: var(--success-color);
            color: var(--success-color);
        }
        .result.error {
            background-color: rgba(248, 113, 113, 0.1);
            border-color: var(--error-color);
            color: var(--error-color);
        }
        .spinner {
            border: 2px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            width: 1rem;
            height: 1rem;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* 4. Layout & Step Containers */
        .step-container {
            background-color: var(--surface-color);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            margin-top: 2rem;
        }
        .setup-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 3rem;
            align-items: start;
            margin-top: 2rem;
        }
        .setup-welcome h1 { font-size: 2rem; }
        .setup-welcome p { color: var(--text-color); }
        .features-grid { display: flex; flex-direction: column; gap: 1.5rem; margin-top: 2rem; }
        .feature { display: flex; gap: 1rem; align-items: start; }
        .feature-icon svg { width: 24px; height: 24px; color: var(--primary-color); }
        .setup-form { background-color: var(--surface-color); padding: 2rem; border-radius: var(--border-radius); border: 1px solid var(--border-color); }
        .config-forms-wrapper {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .config-fieldset { border: none; padding: 0; }
        .config-fieldset legend { font-weight: 600; margin-bottom: 0.75rem; }
        .config-fieldset.full-width { grid-column: 1 / -1; }
        .api-key-group { position: relative; display: flex; align-items: center; }
        .api-key-group input, .api-key-group textarea { padding-right: 3rem; }
        .key-status-icon {
            position: absolute;
            right: 0.75rem;
            display: flex;
            align-items: center;
            height: 100%;
        }
        .key-status-icon svg { width: 1.5rem; height: 1.5rem; }
        .key-status-icon .success { color: var(--success-color); }
        .key-status-icon .error { color: var(--error-color); }
        .key-status-spinner {
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        .btn-edit-key {
            position: absolute;
            right: 3.5rem;
            background: none;
            border: none;
            color: var(--text-light-color);
            cursor: pointer;
        }

        /* 5. Progress Bar */
        .progress-bar {
            display: flex;
            justify-content: space-between;
            list-style: none;
            padding: 0;
            margin: 0;
            position: relative;
        }
        .progress-bar::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--border-color);
            transform: translateY(-50%);
            z-index: 1;
        }
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        .progress-step.clickable { cursor: pointer; }
        .step-circle {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            border: 2px solid var(--border-color);
            background-color: var(--surface-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            transition: all 0.3s;
        }
        .step-name { margin-top: 0.5rem; font-size: 0.875rem; color: var(--text-light-color); }
        .progress-step.active .step-circle {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: var(--background-color);
            transform: scale(1.1);
        }
        .progress-step.active .step-name { color: var(--primary-color); font-weight: 600; }
        .progress-step.completed .step-circle {
            background-color: var(--success-color);
            border-color: var(--success-color);
            color: #fff;
        }

        /* 6. Step 2 Specifics */
        .content-mode-toggle { display: flex; gap: 0.5rem; margin-bottom: 2rem; background-color: var(--surface-color-light); border-radius: var(--border-radius); padding: 0.5rem; }
        .content-mode-toggle button { flex: 1; background: none; border: none; color: var(--text-light-color); padding: 0.75rem; border-radius: 0.375rem; cursor: pointer; font-weight: 600; transition: background-color 0.2s, color 0.2s; }
        .content-mode-toggle button.active { background-color: var(--primary-color); color: var(--background-color); }
        .content-creation-hub, .wp-config-section { background-color: var(--surface-color-light); padding: 2rem; border-radius: var(--border-radius); }
        .content-creation-hub h2, .wp-config-section h3 { margin-top: 0; }
        .content-form, .sitemap-input-group { display: flex; gap: 1rem; align-items: flex-end; }
        .content-form .form-group, .sitemap-input-group .form-group { flex-grow: 1; margin-bottom: 0; }
        .wp-config-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1rem; }
        .wp-connection-status { display: flex; align-items: center; gap: 0.5rem; font-weight: 500; }
        .wp-connection-status svg { width: 1.25rem; height: 1.25rem; }

        /* 7. Tables */
        .table-toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .selection-toolbar-actions, .hub-actions-and-filters { display: flex; gap: 1rem; flex-wrap: wrap; }
        .table-search-input { width: 250px; }
        .table-container { overflow-x: auto; }
        .content-table { width: 100%; border-collapse: collapse; }
        .content-table th, .content-table td { padding: 1rem; text-align: left; border-bottom: 1px solid var(--border-color); }
        .content-table th { font-weight: 600; color: var(--text-light-color); }
        .content-table th.sortable { cursor: pointer; }
        .sort-icon { display: inline-block; width: 0; height: 0; margin-left: 5px; vertical-align: middle; }
        .sort-icon.asc { border-left: 5px solid transparent; border-right: 5px solid transparent; border-bottom: 5px solid var(--text-color); }
        .sort-icon.desc { border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid var(--text-color); }
        .content-table tbody tr:hover { background-color: var(--surface-color-light); }
        .content-table .checkbox-cell { width: 3rem; }
        .content-table .actions-cell { width: 10rem; text-align: right; }
        .content-table .numeric-cell { text-align: right; }
        .status-cell { display: flex; align-items: center; gap: 0.5rem; font-weight: 500; }
        .status-icon { font-size: 1.25rem; line-height: 1; }
        .status-done { color: var(--success-color); }
        .status-error { color: var(--error-color); }
        .pillar-row td:first-of-type { border-left: 4px solid var(--primary-color); }
        .generation-progress-bar { width: 100%; background-color: var(--surface-color-light); border-radius: var(--border-radius); overflow: hidden; margin-bottom: 1.5rem; position: relative; }
        .generation-progress-bar .progress-bar-fill { height: 2rem; background-color: var(--primary-color); transition: width 0.3s; }
        .generation-progress-bar .progress-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; font-weight: 600; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .generation-in-progress { display: flex; align-items: center; gap: 1rem; }
        .row-progress-details { flex-grow: 1; }
        .row-status-text { font-size: 0.875rem; }
        .row-progress-bar-container { width: 100%; height: 6px; background: var(--surface-color-light); border-radius: 3px; overflow: hidden; margin-top: 0.25rem; }
        .row-progress-bar-fill { height: 100%; background: var(--primary-color); border-radius: 3px; }
        .stop-generation-btn-row { padding: 0.25rem 0.5rem; font-size: 0.75rem; }

        /* 8. Modals */
        .modal-overlay { position: fixed; inset: 0; background-color: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 1000; }
        .modal-content { background-color: var(--surface-color); border-radius: var(--border-radius); border: 1px solid var(--border-color); width: 90%; max-width: 1200px; height: 90vh; display: flex; flex-direction: column; position: relative; }
        .modal-content.small-modal { max-width: 600px; height: auto; max-height: 80vh; }
        .modal-close-btn { position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: var(--text-light-color); font-size: 2rem; cursor: pointer; line-height: 1; }
        .review-tabs { display: flex; padding: 0 1rem; border-bottom: 1px solid var(--border-color); }
        .tab-btn { background: none; border: none; color: var(--text-light-color); padding: 1rem; cursor: pointer; font-size: 1rem; font-weight: 500; border-bottom: 2px solid transparent; }
        .tab-btn.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .tab-content { flex-grow: 1; overflow-y: auto; padding: 2rem; }
        .live-preview { font-size: 1.1rem; max-width: 800px; margin: 0 auto; }
        .live-preview h1, .live-preview h2, .live-preview h3 { margin-bottom: 1rem; margin-top: 2rem; }
        .live-preview img { max-width: 100%; height: auto; border-radius: var(--border-radius); margin: 1rem 0; }
        .live-preview table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
        .live-preview th, .live-preview td { border: 1px solid var(--border-color); padding: 0.75rem; }
        .live-preview th { background-color: var(--surface-color-light); }
        .editor-tab-container { height: 100%; }
        .html-editor { height: 100%; resize: none; }
        .json-viewer { background-color: var(--background-color); padding: 1rem; border-radius: var(--border-radius); white-space: pre-wrap; word-break: break-all; height: 100%; }
        .modal-footer { display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; border-top: 1px solid var(--border-color); }
        .modal-actions { display: flex; gap: 1rem; }
        .publish-status { font-weight: 500; }
        .publish-status a { margin-left: 0.5rem; display: inline-flex; align-items: center; gap: 0.25rem; }
        .publish-status a svg { width: 1rem; height: 1rem; }
        
        /* 9. SEO & Review Modal specifics */
        .seo-meta-container { display: flex; flex-direction: column; gap: 2rem; }
        .seo-meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .seo-inputs { display: flex; flex-direction: column; gap: 1rem; }
        .serp-preview-container { padding: 1.5rem; border: 1px dashed var(--border-color); border-radius: var(--border-radius); }
        .serp-preview { font-family: Arial, sans-serif; }
        .serp-url { color: #bdc1c6; font-size: 14px; margin-bottom: 4px; }
        .serp-title { color: #8ab4f8; font-size: 20px; text-decoration: none; margin-bottom: 4px; display: block; }
        .serp-title:hover { text-decoration: underline; }
        .serp-description { color: #bdc1c6; font-size: 14px; line-height: 1.57; }
        .label-wrapper { display: flex; justify-content: space-between; align-items: baseline; }
        .char-counter { font-size: 0.875rem; }
        .char-counter.good { color: var(--success-color); }
        .char-counter.warn { color: var(--warning-color); }
        .char-counter.bad { color: var(--error-color); }
        .progress-bar-container { height: 4px; background: var(--surface-color-light); border-radius: 2px; margin-top: 0.5rem; }
        .progress-bar-fill { height: 100%; border-radius: 2px; transition: width 0.3s; }
        .progress-bar-fill.good { background: var(--success-color); }
        .progress-bar-fill.warn { background: var(--warning-color); }
        .progress-bar-fill.bad { background: var(--error-color); }
        .slug-group { display: flex; align-items: center; background-color: var(--surface-color); border: 1px solid var(--border-color); border-radius: var(--border-radius); padding-left: 0.75rem; }
        .slug-group span { color: var(--text-light-color); }
        .slug-group input { border: none; background: none; padding-left: 0.25rem; }
        .rank-guardian-pane { grid-column: 1 / -1; }
        .rank-guardian-container { grid-column: 1 / -1; }
        .score-display { display: flex; gap: 2rem; justify-content: center; margin-bottom: 2rem; }
        .score-card { text-align: center; }
        .score-card h4 { margin-bottom: 1rem; }
        .score-circle-container { position: relative; width: 100px; height: 100px; }
        .score-circle { width: 100%; height: 100%; transform: rotate(-90deg); }
        .score-circle .circle-bg { fill: none; stroke: var(--surface-color-light); stroke-width: 10; }
        .score-circle .circle { fill: none; stroke-width: 10; stroke-linecap: round; transition: stroke-dashoffset 0.5s; }
        .score-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.5rem; font-weight: 700; }
        .checklists-container { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .guardian-checklist { list-style: none; display: flex; flex-direction: column; gap: 0.75rem; }
        .guardian-checklist li { display: flex; align-items: center; gap: 0.5rem; }
        .guardian-checklist svg { width: 1.25rem; height: 1.25rem; flex-shrink: 0; }
        .guardian-checklist .valid { color: var(--success-color); }
        .guardian-checklist .invalid { color: var(--error-color); }

        /* 10. Image Generator */
        .image-generator-container { display: grid; grid-template-columns: 350px 1fr; gap: 2rem; align-items: start; }
        .image-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; }
        .gallery-placeholder { background-color: var(--surface-color-light); border-radius: var(--border-radius); aspect-ratio: 1/1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 1rem; color: var(--text-light-color); }
        .image-card { position: relative; overflow: hidden; border-radius: var(--border-radius); }
        .image-card img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .image-card-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); display: flex; flex-direction: column; justify-content: flex-end; padding: 1rem; opacity: 0; transition: opacity 0.3s; }
        .image-card:hover .image-card-overlay { opacity: 1; }
        .image-card-prompt { color: #fff; font-size: 0.875rem; margin-bottom: 0.5rem; }
        .image-card-actions { display: flex; gap: 0.5rem; }

        /* 11. Content Hub */
        .content-hub-section h3 { text-align: center; }
        .content-hub-title { display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .info-icon { background: var(--border-color); color: var(--text-color); border-radius: 50%; width: 1.25rem; height: 1.25rem; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; cursor: help; }
        .tooltip-container { position: relative; }
        .tooltip-content { display: none; position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%); background: var(--surface-color-light); color: var(--text-color); padding: 1rem; border-radius: var(--border-radius); width: 300px; z-index: 10; text-align: left; }
        .tooltip-content h4 { margin-top: 0; }
        .tooltip-container:hover .tooltip-content { display: block; }
        .stale-badge { padding: 0.25rem 0.5rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: capitalize; }
        .priority-critical { background-color: var(--error-color); color: #fff; }
        .priority-high { background-color: #fb923c; color: #fff; }
        .priority-medium { background-color: var(--warning-color); color: #000; }
        .priority-healthy { background-color: var(--success-color); color: #000; }
        .published-badge { font-weight: 600; font-size: 0.8rem; color: var(--success-color); }
        .bulk-action-bar { background: var(--surface-color-light); padding: 1rem; border-radius: var(--border-radius); margin-bottom: 1.5rem; display: flex; justify-content: space-between; align-items: center; }

        /* Responsive */
        @media (max-width: 1200px) {
            .setup-container { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .step-container { padding: 1.5rem; }
            .config-forms-wrapper, .wp-config-grid { grid-template-columns: 1fr; }
            .image-generator-container { grid-template-columns: 1fr; }
            .content-table.mobile-cards thead { display: none; }
            .content-table.mobile-cards tr { display: block; margin-bottom: 1rem; border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 1rem; }
            .content-table.mobile-cards td { display: block; text-align: right; border: none; padding: 0.5rem 0; }
            .content-table.mobile-cards td::before { content: attr(data-label); float: left; font-weight: 600; color: var(--text-light-color); }
            .content-table.mobile-cards .checkbox-cell::before { display: none; }
            .content-table.mobile-cards .actions-cell { text-align: left; margin-top: 1rem; }
        }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0",
    "openai": "https://aistudiocdn.com/openai@^5.21.0",
    "@anthropic-ai/sdk": "https://aistudiocdn.com/@anthropic-ai/sdk@^0.63.0",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "vite": "https://aistudiocdn.com/vite@^7.1.6",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.0.3"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>
